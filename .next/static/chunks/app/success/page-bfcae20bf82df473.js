(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[60],{6847:function(e,t,a){Promise.resolve().then(a.bind(a,235))},9205:function(e,t,a){"use strict";a.d(t,{Z:function(){return c}});var n=a(2265);let r=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ")};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,n.forwardRef)((e,t)=>{let{color:a="currentColor",size:r=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:l="",children:d,iconNode:u,...m}=e;return(0,n.createElement)("svg",{ref:t,...i,width:r,height:r,stroke:a,strokeWidth:c?24*Number(o)/Number(r):o,className:s("lucide",l),...m},[...u.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),c=(e,t)=>{let a=(0,n.forwardRef)((a,i)=>{let{className:c,...l}=a;return(0,n.createElement)(o,{ref:i,iconNode:t,className:s("lucide-".concat(r(e)),c),...l})});return a.displayName="".concat(e),a}},2660:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1047:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},1723:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8997:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},9345:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2718:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},4794:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(9205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},235:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var n=a(7437),r=a(2265),s=a(4794),i=a(9205);let o=(0,i.Z)("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),c=(0,i.Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var l=a(1047),d=a(1723),u=a(2718),m=a(9345),p=a(8997),h=a(2660),f=a(6059),x=a(6397);function y(){let{clearCart:e}=(0,f.j)(),[t,a]=(0,r.useState)(null),[i,y]=(0,r.useState)(null);(0,r.useEffect)(()=>{e();let t=localStorage.getItem("pendingOrder");if(t){let e=JSON.parse(t);if(y(e),localStorage.removeItem("pendingOrder"),e.items&&e.items.length>0){let t=e.items.map(e=>({productId:e.id,quantity:e.quantity})).filter(e=>e.productId);t.length>0&&fetch("/api/stock/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:t})}).catch(()=>{})}fetch("/api/order/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).catch(()=>{})}fetch("/api/admin/config").then(e=>e.json()).then(e=>a(e.site)).catch(()=>{})},[e]);let g=(null==i?void 0:i.items)&&i.items.length>0,v=(null==i?void 0:i.serviceItems)&&i.serviceItems.length>0,b=e=>new Date(e+"T12:00:00").toLocaleDateString("es-AR",{weekday:"long",day:"numeric",month:"long"}),k=(()=>{if(!t)return{text:"",icon:s.Z};switch(t.deliveryMode){case"pickup":return{text:"Coordinemos el retiro de tu pedido",icon:s.Z};case"shipping":return{text:"Coordinemos el env\xedo de tu pedido",icon:o};default:return{text:"Coordinemos la entrega de tu pedido",icon:s.Z}}})(),j=k.icon;return(0,n.jsx)("div",{className:"min-h-screen bg-cream-50 flex items-center justify-center px-4 pt-24 pb-12",children:(0,n.jsx)("div",{className:"max-w-md w-full text-center",children:(0,n.jsxs)("div",{className:"animate-fade-in",children:[(0,n.jsx)("div",{className:"w-24 h-24 bg-sage-100 rounded-full flex items-center justify-center mx-auto mb-8",children:(0,n.jsx)(c,{className:"w-12 h-12 text-sage-500"})}),(0,n.jsx)("h1",{className:"font-display text-4xl font-semibold text-rose-800 mb-4",children:"\xa1Gracias por tu compra!"}),(0,n.jsx)("p",{className:"text-nude-600 mb-6 leading-relaxed",children:"Tu pago ha sido procesado exitosamente."}),v&&(null==i?void 0:i.selectedSlots)&&i.selectedSlots.length>0&&(0,n.jsxs)("div",{className:"p-4 bg-sage-50 rounded-xl mb-6 border border-sage-200 text-left",children:[(0,n.jsxs)("h3",{className:"font-medium text-sage-800 mb-3 flex items-center gap-2",children:[(0,n.jsx)(l.Z,{className:"w-5 h-5"}),"Tus turnos confirmados"]}),(0,n.jsx)("div",{className:"space-y-2",children:i.selectedSlots.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-3 p-2 bg-white rounded-lg",children:[(0,n.jsx)(d.Z,{className:"w-4 h-4 text-sage-500"}),(0,n.jsxs)("span",{className:"text-sm text-sage-700",children:[b(e.date)," • ",e.time]})]},t))})]}),t&&(t.whatsapp||t.email)&&(0,n.jsxs)("div",{className:"p-6 bg-cream-50 rounded-2xl mb-6 border border-cream-200",children:[g&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 text-rose-700 mb-3",children:[(0,n.jsx)(j,{className:"w-5 h-5"}),(0,n.jsx)("span",{className:"font-medium",children:k.text})]}),(0,n.jsxs)("p",{className:"text-sm text-nude-600 mb-4",children:["pickup"===t.deliveryMode&&"Escribinos para acordar d\xeda y horario de retiro.","shipping"===t.deliveryMode&&"Escribinos para coordinar el env\xedo a tu domicilio.","both"===t.deliveryMode&&"Ofrecemos retiro en persona o env\xedo. \xa1Eleg\xed lo que m\xe1s te convenga!"]})]}),!g&&v&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"font-medium text-rose-700 mb-2",children:"\xbfTen\xe9s alguna consulta?"}),(0,n.jsx)("p",{className:"text-sm text-nude-600 mb-4",children:"Estamos para ayudarte"})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[t.whatsapp&&(0,n.jsxs)("a",{href:"https://wa.me/".concat(t.whatsapp,"?text=").concat((()=>{if(!i||!t)return"";let e="\xa1Hola! Acabo de realizar una compra en ".concat(t.siteName,".\n\n");if(g&&(e+="*Productos:*\n",i.items.forEach(t=>{e+="• ".concat(t.name," x").concat(t.quantity,"\n")}),e+="\n"),v&&(e+="*Servicios reservados:*\n",i.serviceItems.forEach(t=>{e+="• ".concat(t.name," x").concat(t.quantity,"\n")}),i.selectedSlots&&i.selectedSlots.length>0&&(e+="\n*Turnos:*\n",i.selectedSlots.forEach(t=>{e+="\uD83D\uDCC5 ".concat(b(t.date)," a las ").concat(t.time,"\n")})),e+="\n"),e+="*Total:* ".concat((0,x.T4)(i.total),"\n\n")+"*Mis datos:*\n"+"Nombre: ".concat(i.customer.name,"\n")+"Email: ".concat(i.customer.email,"\n")+"Tel: ".concat(i.customer.phone,"\n\n"),g&&!v)switch(t.deliveryMode){case"pickup":e+="Quisiera coordinar el retiro del pedido. \xbfCu\xe1ndo podr\xeda pasar a buscarlo?";break;case"shipping":e+="Quisiera coordinar el env\xedo. \xbfQu\xe9 datos necesitan?";break;default:e+="\xbfCu\xe1les son las opciones para retirar o recibir mi pedido?"}else v&&!g?e+="\xa1Quedaron confirmados mis turnos! \xbfHay algo que deba llevar o tener en cuenta?":e+="\xa1Gracias! Quisiera coordinar la entrega de los productos y confirmar los turnos.";return encodeURIComponent(e)})()),target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 px-6 py-3 bg-green-500 text-white rounded-full font-medium hover:bg-green-600 transition-colors w-full",children:[(0,n.jsx)(u.Z,{className:"w-5 h-5"}),"Contactar por WhatsApp"]}),t.email&&(0,n.jsxs)("a",{href:(()=>{if(!i||!t)return"";let e="Compra realizada - ".concat(t.siteName),a="Hola!\n\nAcabo de realizar una compra.\n\n";return g&&(a+="Productos:\n",i.items.forEach(e=>{a+="- ".concat(e.name," x").concat(e.quantity,"\n")}),a+="\n"),v&&(a+="Servicios:\n",i.serviceItems.forEach(e=>{a+="- ".concat(e.name," x").concat(e.quantity,"\n")}),i.selectedSlots&&i.selectedSlots.length>0&&(a+="\nTurnos:\n",i.selectedSlots.forEach(e=>{a+="- ".concat(b(e.date)," a las ").concat(e.time,"\n")})),a+="\n"),a+="Total: ".concat((0,x.T4)(i.total),"\n\n")+"Mis datos:\nNombre: ".concat(i.customer.name,"\nEmail: ").concat(i.customer.email,"\nTel: ").concat(i.customer.phone,"\n\n")+"\xa1Gracias!","mailto:".concat(t.email,"?subject=").concat(encodeURIComponent(e),"&body=").concat(encodeURIComponent(a))})(),className:"flex items-center justify-center gap-2 px-6 py-3 border-2 border-rose-200 text-rose-600 rounded-full font-medium hover:bg-rose-50 transition-colors w-full",children:[(0,n.jsx)(m.Z,{className:"w-5 h-5"}),"Contactar por Email"]})]})]}),(0,n.jsxs)("div",{className:"p-6 bg-rose-50 rounded-2xl mb-8",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center gap-2 text-rose-600 mb-2",children:[(0,n.jsx)(p.Z,{className:"w-5 h-5 fill-rose-400"}),(0,n.jsxs)("span",{className:"font-medium",children:["Gracias por confiar en ",(null==t?void 0:t.siteName)||"nosotros"]})]}),(0,n.jsx)("p",{className:"text-sm text-nude-500",children:v?"Te esperamos con todo listo para tu cita.":"Cada producto est\xe1 hecho con amor especialmente para vos."})]}),(0,n.jsxs)("a",{href:"/",className:"inline-flex items-center gap-2 px-6 py-3 bg-rose-500 text-white rounded-full font-medium hover:bg-rose-600 transition-colors",children:[(0,n.jsx)(h.Z,{className:"w-4 h-4"}),"Volver al inicio"]})]})})})}},6059:function(e,t,a){"use strict";a.d(t,{CartProvider:function(){return i},j:function(){return o}});var n=a(7437),r=a(2265);let s=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[a,i]=(0,r.useState)([]),[o,c]=(0,r.useState)([]),[l,d]=(0,r.useState)(!1),[u,m]=(0,r.useState)(null),p=(e,t)=>!e.trackStock||void 0===e.stock||t<=e.stock,h=e=>{i(t=>t.filter(t=>t.product.id!==e)),m(null)},f=e=>{c(t=>t.filter(t=>t.service.id!==e))},x=a.reduce((e,t)=>e+t.product.price*t.quantity,0),y=o.reduce((e,t)=>e+t.service.price*t.quantity,0),g=a.reduce((e,t)=>e+t.quantity,0),v=o.reduce((e,t)=>e+t.quantity,0),b=o.length>0;return(0,n.jsx)(s.Provider,{value:{items:a,serviceItems:o,addItem:e=>{let t=a.find(t=>t.product.id===e.id);return p(e,(t?t.quantity:0)+1)?(i(a=>t?a.map(t=>t.product.id===e.id?{...t,quantity:t.quantity+1}:t):[...a,{product:e,quantity:1}]),m(null),d(!0),!0):(m("Solo hay ".concat(e.stock,' unidades disponibles de "').concat(e.name,'"')),d(!0),!1)},addService:e=>{c(t=>t.find(t=>t.service.id===e.id)?t.map(t=>t.service.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{service:e,quantity:1,selectedSlots:[]}]),d(!0)},removeItem:h,removeService:f,updateQuantity:(e,t)=>{if(t<=0)return h(e),!0;let n=a.find(t=>t.product.id===e);return!!n&&(p(n.product,t)?(i(a=>a.map(a=>a.product.id===e?{...a,quantity:t}:a)),m(null),!0):(m("Solo hay ".concat(n.product.stock,' unidades disponibles de "').concat(n.product.name,'"')),!1))},updateServiceQuantity:(e,t)=>{if(t<=0){f(e);return}c(a=>a.map(a=>{var n;return a.service.id===e?{...a,quantity:t,selectedSlots:(null===(n=a.selectedSlots)||void 0===n?void 0:n.slice(0,t))||[]}:a}))},updateServiceSlots:(e,t)=>{c(a=>a.map(a=>a.service.id===e?{...a,selectedSlots:t}:a))},clearCart:()=>{i([]),c([]),m(null)},total:x+y,itemCount:g+v,hasServices:b,isOpen:l,setIsOpen:d,stockError:u,clearStockError:()=>m(null)},children:t})}function o(){let e=(0,r.useContext)(s);if(!e)throw Error("useCart must be used within a CartProvider");return e}},6397:function(e,t,a){"use strict";a.d(t,{T4:function(){return s},bd:function(){return r},sb:function(){return i},u_:function(){return n}});let n={site:{siteName:"Corpe Pilates",tagline:"Pilates Reformer para todos",instagram:"https://instagram.com/corpepilates",whatsapp:"5491161515110",email:"corpepilates@gmail.com",location:"Avenida Segurola 386, Floresta, CABA",deliveryMode:"pickup"},booking:{enabled:!0,recurring:[{dayOfWeek:2,slots:[{start:"18:00",end:"19:00"}]},{dayOfWeek:5,slots:[{start:"18:00",end:"19:00"}]}],exceptions:[]},products:[],services:[{id:"plan-1x",name:"Plan 1x Semana",description:"4 clases mensuales de Pilates Reformer. Ideal para iniciarte en la pr\xe1ctica y trabajar tu core, postura y fuerza general.",price:25e3,duration:"60 min",durationMinutes:60,image:"https://images.unsplash.com/photo-1518611012118-696072aa579a?w=400&h=400&fit=crop"},{id:"plan-2x",name:"Plan 2x Semana",description:"8 clases mensuales de Pilates Reformer. Perfecto para progresar m\xe1s r\xe1pido y sentir resultados en pocas semanas.",price:4e4,duration:"60 min",durationMinutes:60,image:"https://images.unsplash.com/photo-1571019614242-c5c5dee9f50b?w=400&h=400&fit=crop"},{id:"plan-3x",name:"Plan 3x Semana",description:"12 clases mensuales de Pilates Reformer. M\xe1ximos resultados: mayor fuerza, flexibilidad y cuidado de tu columna.",price:55e3,duration:"60 min",durationMinutes:60,image:"https://images.unsplash.com/photo-1599901860904-17e6ed7083a0?w=400&h=400&fit=crop"}]},r=[{id:"accesorios",name:"Accesorios",icon:"\uD83C\uDFAF"},{id:"ropa",name:"Ropa",icon:"\uD83D\uDC55"},{id:"equipamiento",name:"Equipamiento",icon:"\uD83C\uDFCB️"},{id:"suplementos",name:"Suplementos",icon:"\uD83D\uDC8A"}];function s(e){return new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}let i=[{id:0,name:"Domingo",short:"Dom"},{id:1,name:"Lunes",short:"Lun"},{id:2,name:"Martes",short:"Mar"},{id:3,name:"Mi\xe9rcoles",short:"Mi\xe9"},{id:4,name:"Jueves",short:"Jue"},{id:5,name:"Viernes",short:"Vie"},{id:6,name:"S\xe1bado",short:"S\xe1b"}]}},function(e){e.O(0,[971,117,744],function(){return e(e.s=6847)}),_N_E=e.O()}]);